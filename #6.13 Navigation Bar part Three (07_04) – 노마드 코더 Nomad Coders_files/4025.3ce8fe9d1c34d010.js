(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4025,1664,329,6146,7718,8174],{40224:function(e,t,r){"use strict";r.d(t,{hC:function(){return w}});var n=r(36808),o=r.n(n);const i=function(){try{return!Boolean(window.top.location.href)}catch(e){return!0}}(),a=!!i,s=i?"None":"Lax";class u{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise(((r,n)=>{const o=indexedDB.open(e,1);o.onerror=()=>n(o.error),o.onsuccess=()=>r(o.result),o.onupgradeneeded=()=>{o.result.createObjectStore(t)}}))}_withIDBStore(e,t){return this._dbp.then((r=>new Promise(((n,o)=>{const i=r.transaction(this.storeName,e);i.oncomplete=()=>n(),i.onabort=i.onerror=()=>o(i.error),t(i.objectStore(this.storeName))}))))}}let c;function l(){return c||(c=new u),c}class f{constructor(e="ImmortalDB",t="key-value-pairs"){return this.store=new u(e,t),(async()=>{try{await this.store._dbp}catch(e){if("SecurityError"===e.name)return null;throw e}return this})()}async get(e){const t=await function(e,t=l()){let r;return t._withIDBStore("readonly",(t=>{r=t.get(e)})).then((()=>r.result))}(e,this.store);return"string"===typeof t?t:void 0}async set(e,t){await function(e,t,r=l()){return r._withIDBStore("readwrite",(r=>{r.put(t,e)}))}(e,t,this.store)}async remove(e){await function(e,t=l()){return t._withIDBStore("readwrite",(t=>{t.delete(e)}))}(e,this.store)}}class d{constructor(e){return this.store=e,(async()=>this)()}async get(e){const t=this.store.getItem(e);return"string"===typeof t?t:void 0}async set(e,t){this.store.setItem(e,t)}async remove(e){this.store.removeItem(e)}}class p extends d{constructor(){super(window.localStorage)}}const v=console.log,h="undefined"!==typeof window,y=[class{constructor({ttl:e=365,secure:t=a,sameSite:r=s}={}){return this.ttl=e,this.secure=t,this.sameSite=r,(async()=>this)()}async get(e){const t=o().get(e);return"string"===typeof t?t:void 0}async set(e,t){o().set(e,t,this._constructCookieParams())}async remove(e){o().remove(e,this._constructCookieParams())}_constructCookieParams(){return{expires:this.ttl,secure:this.secure,sameSite:this.sameSite}}}];try{h&&window.indexedDB&&y.push(f)}catch(g){}try{h&&window.localStorage&&y.push(p)}catch(g){}function m(e,t,r=null){return t in e?e[t]:r}const w=new class{constructor(e=y){this.stores=[],this.onReady=(async()=>{this.stores=(await Promise.all(e.map((async e=>{if("object"===typeof e)return e;try{return await new e}catch(g){return null}})))).filter(Boolean)})()}async get(e,t=null){await this.onReady;const r=`_immortal|${e}`,n=await Promise.all(this.stores.map((async e=>{try{return await e.get(r)}catch(g){v(g)}}))),o=Array.from(function(e){const t=new Map;let r=e.slice();for(const n of r){let e=0;for(const t of r)n===t&&(e+=1);e>0&&(t.set(n,e),r=r.filter((e=>e!==n)))}return t}(n).entries());let i;o.sort(((e,t)=>e[1]<=t[1]));const[a,s]=m(o,0,[void 0,0]),[u,c]=m(o,1,[void 0,0]);return i=s>c||s===c&&void 0!==a?a:u,void 0!==i?(await this.set(e,i),i):(await this.remove(e),t)}async set(e,t){return await this.onReady,e=`_immortal|${e}`,await Promise.all(this.stores.map((async r=>{try{await r.set(e,t)}catch(g){v(g)}}))),t}async remove(e){await this.onReady,e=`_immortal|${e}`,await Promise.all(this.stores.map((async t=>{try{await t.remove(e)}catch(g){v(g)}})))}}},36808:function(e,t,r){var n,o;!function(i){if(void 0===(o="function"===typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!==typeof document){"number"===typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(c){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!==typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),u=s.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(l){}if(o[c]=u,e===c)break}catch(l){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},48418:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=void 0;var i,a=(i=r(67294))&&i.__esModule?i:{default:i},s=r(76273),u=r(90387),c=r(57190);var l={};function f(e,t,r,n){if(e&&s.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;l[t+"%"+r+(o?"%"+o:"")]=!0}}var d=function(e){var t,r=!1!==e.prefetch,n=u.useRouter(),i=a.default.useMemo((function(){var t=o(s.resolveHref(n,e.href,!0),2),r=t[0],i=t[1];return{href:r,as:e.as?s.resolveHref(n,e.as):i||r}}),[n,e.href,e.as]),d=i.href,p=i.as,v=e.children,h=e.replace,y=e.shallow,m=e.scroll,w=e.locale;"string"===typeof v&&(v=a.default.createElement("a",null,v));var g=(t=a.default.Children.only(v))&&"object"===typeof t&&t.ref,b=o(c.useIntersection({rootMargin:"200px"}),2),S=b[0],C=b[1],k=a.default.useCallback((function(e){S(e),g&&("function"===typeof g?g(e):"object"===typeof g&&(g.current=e))}),[g,S]);a.default.useEffect((function(){var e=C&&r&&s.isLocalURL(d),t="undefined"!==typeof w?w:n&&n.locale,o=l[d+"%"+p+(t?"%"+t:"")];e&&!o&&f(n,d,p,{locale:t})}),[p,d,C,w,r,n]);var P={ref:k,onClick:function(e){t.props&&"function"===typeof t.props.onClick&&t.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,i,a,u){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(r))&&(e.preventDefault(),null==a&&n.indexOf("#")>=0&&(a=!1),t[o?"replace":"push"](r,n,{shallow:i,locale:u,scroll:a}))}(e,n,d,p,h,y,m,w)},onMouseEnter:function(e){t.props&&"function"===typeof t.props.onMouseEnter&&t.props.onMouseEnter(e),s.isLocalURL(d)&&f(n,d,p,{priority:!0})}};if(e.passHref||"a"===t.type&&!("href"in t.props)){var I="undefined"!==typeof w?w:n&&n.locale,D=n&&n.isLocaleDomain&&s.getDomainLocale(p,I,n&&n.locales,n&&n.domainLocales);P.href=D||s.addBasePath(s.addLocale(p,I,n&&n.defaultLocale))}return a.default.cloneElement(t,P)};t.default=d},57190:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(u){s=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootMargin,r=e.disabled||!s,n=i.useRef(),c=o(i.useState(!1),2),l=c[0],f=c[1],d=i.useCallback((function(e){n.current&&(n.current(),n.current=void 0),r||l||e&&e.tagName&&(n.current=function(e,t,r){var n=function(e){var t=e.rootMargin||"",r=u.get(t);if(r)return r;var n=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=n.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return u.set(t,r={id:t,observer:o,elements:n}),r}(r),o=n.id,i=n.observer,a=n.elements;return a.set(e,t),i.observe(e),function(){a.delete(e),i.unobserve(e),0===a.size&&(i.disconnect(),u.delete(o))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[r,t,l]);return i.useEffect((function(){if(!s&&!l){var e=a.requestIdleCallback((function(){return f(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[l]),[d,l]};var i=r(67294),a=r(9311),s="undefined"!==typeof IntersectionObserver;var u=new Map},41664:function(e,t,r){e.exports=r(48418)},52165:function(e,t,r){"use strict";r.d(t,{WU:function(){return c}});var n=["second","minute","hour","day","week","month","year"];var o=["\u79d2","\u5206\u949f","\u5c0f\u65f6","\u5929","\u5468","\u4e2a\u6708","\u5e74"];var i={},a=function(e,t){i[e]=t},s=[60,60,24,7,365/7/12,12];function u(e){return e instanceof Date?e:!isNaN(e)||/^\d+$/.test(e)?new Date(parseInt(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(e))}var c=function(e,t,r){return function(e,t){for(var r=e<0?1:0,n=e=Math.abs(e),o=0;e>=s[o]&&o<s.length;o++)e/=s[o];return(e=Math.floor(e))>(0===(o*=2)?9:1)&&(o+=1),t(e,o,n)[r].replace("%s",e.toString())}(function(e,t){return(+(t?u(t):new Date)-+u(e))/1e3}(e,r&&r.relativeDate),function(e){return i[e]||i.en_US}(t))};a("en_US",(function(e,t){if(0===t)return["just now","right now"];var r=n[Math.floor(t/2)];return e>1&&(r+="s"),[e+" "+r+" ago","in "+e+" "+r]})),a("zh_CN",(function(e,t){if(0===t)return["\u521a\u521a","\u7247\u523b\u540e"];var r=o[~~(t/2)];return[e+" "+r+"\u524d",e+" "+r+"\u540e"]}))},71641:function(e,t,r){"use strict";r.d(t,{a:function(){return d}});var n=r(70655),o=r(67294),i=r(82152),a=r(28291),s=r(85317),u=r(30990),c=r(1644),l=r(14692),f=r(66252);function d(e,t){var r,a=(0,o.useContext)((0,s.K)()),d=(0,f.x)(null===t||void 0===t?void 0:t.client),v=d.defaultOptions.watchQuery;(0,l.Vp)(e,l.n_.Query);var h,y=(0,o.useState)((function(){var r=p(e,t,v),n=null;return a.renderPromises&&(n=a.renderPromises.getSSRObservable(r)),n||(n=d.watchQuery(r),a.renderPromises&&a.renderPromises.registerSSRObservable(n,r)),a.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&n.getCurrentResult().loading&&a.renderPromises.addQueryPromise({getOptions:function(){return p(e,t,v)},fetchData:function(){return new Promise((function(e){var t=n.subscribe({next:function(r){r.loading||(e(),t.unsubscribe())},error:function(){e(),t.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),n})),m=y[0],w=y[1],g=(0,o.useState)((function(){var e,r,n=m.getCurrentResult();return!n.loading&&t&&(n.error?null===(e=t.onError)||void 0===e||e.call(t,n.error):n.data&&(null===(r=t.onCompleted)||void 0===r||r.call(t,n.data))),n})),b=g[0],S=g[1],C=(0,o.useRef)({client:d,query:e,options:t,result:b,previousData:void 0,watchQueryOptions:p(e,t,v)});(0,o.useEffect)((function(){var r,n,o,a=p(e,t,v);if(C.current.client===d&&(0,i.D)(C.current.query,e))(0,i.D)(C.current.watchQueryOptions,a)||(m.setOptions(a).catch((function(){})),o=m.getCurrentResult(),C.current.watchQueryOptions=a);else{var s=d.watchQuery(a);w(s),o=s.getCurrentResult()}if(o){var u=C.current.result;u.data&&(C.current.previousData=u.data),S(C.current.result=o),!o.loading&&t&&(o.error?null===(r=t.onError)||void 0===r||r.call(t,o.error):o.data&&(null===(n=t.onCompleted)||void 0===n||n.call(t,o.data)))}Object.assign(C.current,{client:d,query:e})}),[m,d,e,t]),(0,o.useEffect)((function(){if(!a.renderPromises){var e=m.subscribe(t,(function r(n){var o,a,s=m.last;e.unsubscribe();try{m.resetLastResults(),e=m.subscribe(t,r)}finally{m.last=s}if(!n.hasOwnProperty("graphQLErrors"))throw n;var u=C.current.result;(u&&u.loading||!(0,i.D)(n,u.error))&&(S(C.current.result={data:u.data,error:n,loading:!1,networkStatus:c.I.error}),null===(a=null===(o=C.current.options)||void 0===o?void 0:o.onError)||void 0===a||a.call(o,n))}));return function(){return e.unsubscribe()}}function t(){var e,t,r=C.current.result,n=m.getCurrentResult();r&&r.loading===n.loading&&r.networkStatus===n.networkStatus&&(0,i.D)(r.data,n.data)||(r.data&&(C.current.previousData=r.data),S(C.current.result=n),n.loading||null===(t=null===(e=C.current.options)||void 0===e?void 0:e.onCompleted)||void 0===t||t.call(e,n.data))}}),[m,a.renderPromises,d.disableNetworkFetches]),h=(r=b).partial,b=(0,n._T)(r,["partial"]),!h||!(null===t||void 0===t?void 0:t.partialRefetch)||b.loading||b.data&&0!==Object.keys(b.data).length||"cache-only"===m.options.fetchPolicy||(b=(0,n.pi)((0,n.pi)({},b),{loading:!0,networkStatus:c.I.refetch}),m.refetch()),a.renderPromises&&!1!==(null===t||void 0===t?void 0:t.ssr)&&!(null===t||void 0===t?void 0:t.skip)&&b.loading&&m.setOptions(p(e,t,v)).catch((function(){})),Object.assign(C.current,{options:t}),(a.renderPromises||d.disableNetworkFetches)&&!1===(null===t||void 0===t?void 0:t.ssr)?b=C.current.result={loading:!0,data:void 0,error:void 0,networkStatus:c.I.loading}:((null===t||void 0===t?void 0:t.skip)||"standby"===(null===t||void 0===t?void 0:t.fetchPolicy))&&(b={loading:!1,data:void 0,error:void 0,networkStatus:c.I.ready}),b.errors&&b.errors.length&&(b=(0,n.pi)((0,n.pi)({},b),{error:b.error||new u.c({graphQLErrors:b.errors})}));var k=(0,o.useMemo)((function(){return{refetch:m.refetch.bind(m),fetchMore:m.fetchMore.bind(m),updateQuery:m.updateQuery.bind(m),startPolling:m.startPolling.bind(m),stopPolling:m.stopPolling.bind(m),subscribeToMore:m.subscribeToMore.bind(m)}}),[m]);return(0,n.pi)((0,n.pi)((0,n.pi)({},k),{variables:p(e,t,v).variables,client:d,called:!0,previousData:C.current.previousData}),b)}function p(e,t,r){var o;void 0===t&&(t={});var i=t.skip,s=(t.ssr,t.onCompleted,t.onError,t.displayName,(0,n._T)(t,["skip","ssr","onCompleted","onError","displayName"])),u=(0,n.pi)({query:e},s);return r&&(u=(0,a.J)(r,u)),i?u.fetchPolicy="standby":(!(null===(o=u.context)||void 0===o?void 0:o.renderPromises)||"network-only"!==u.fetchPolicy&&"cache-and-network"!==u.fetchPolicy)&&u.fetchPolicy||(u.fetchPolicy="cache-first"),u.variables||(u.variables={}),u}}}]);