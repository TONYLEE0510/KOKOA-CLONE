(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{87237:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(78172)}])},78172:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _}});var n=t(85893),a=t(34051),i=t.n(a),o=t(42283),l=t(19989),s=t(50319),u=t(67294),d=t(62286),c=t(11163),m=t(95717),f=t(49384),h=t(23793),x=t(49712),v=t(25988),g=t(34347),p=t(41664),y=t(39425);function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function w(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return b(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){var r,t,a,i=e.loading,o=e.onSubmit,l=e.register,s=e.errors,u=e.ok,d=e.email,b=w(d?d.split("@"):[],2),j=(b[0],b[1]),k=(0,c.useRouter)();return(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(y.Z,{pageTitle:"Log in \u2013 \ub178\ub9c8\ub4dc \ucf54\ub354 Nomad Coders",description:"Log in to Nomad Coders",path:"/login",image:"home2"}),(0,n.jsx)(m.default,{showLinks:!1,showFooter:!1,children:(0,n.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 flex flex-col py-12 sm:px-6 lg:px-8",style:{minHeight:"calc(100vh - 70px)"},children:[k.query.flash&&(0,n.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 max-w-md w-full mx-auto",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"flex-shrink-0",children:(0,n.jsx)("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,n.jsx)("div",{className:"ml-3",children:(0,n.jsx)("p",{className:"text-sm leading-5 text-yellow-700",children:null===k||void 0===k||null===(r=k.query)||void 0===r||null===(t=r.flash)||void 0===t?void 0:t.toString()})})]})}),(0,n.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,n.jsx)("h2",{className:"mt-6 text-center text-3xl leading-9 font-semibold text-gray-900 dark:text-white",children:"Log in to Nomad Coders"}),(0,n.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-700 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[i&&(0,n.jsx)(h.Z,{text:"\ub85c\uadf8\uc778 \ub9c1\ud06c\ub97c \ubcf4\ub0b4\ub294 \uc911..",kind:"info"}),(null===s||void 0===s?void 0:s.mutation)&&(0,n.jsx)(h.Z,{text:null===s||void 0===s||null===(a=s.mutation)||void 0===a?void 0:a.message,kind:"error"}),(null===s||void 0===s?void 0:s.email)&&(0,n.jsx)(h.Z,{text:"\uc804\uccb4 \ud544\uc218 \uc785\ub825 \ud56d\ubaa9\uc785\ub2c8\ub2e4",kind:"error"}),u&&(0,n.jsx)(h.Z,{text:"\uc774\uba54\uc77c\ub85c \uc804\uc1a1\ub41c \ub85c\uadf8\uc778 \ub9c1\ud06c\ub97c \ud655\uc778\ud558\uc138\uc694",kind:"success",linkHref:"https://".concat(j),linkText:"".concat(function(e){var r=w(e.split("."),2),t=r[0];r[1];return t.charAt(0).toUpperCase()+t.substring(1)}(j)," \ub85c \uc774\ub3d9\ud558\uae30"),messageClassName:"md:grid"}),(0,n.jsxs)("form",{onSubmit:i?function(){return null}:o,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-5 text-gray-700 dark:text-gray-300",children:"Email address"}),(0,n.jsx)("div",{className:"mt-1 rounded-md shadow-sm",children:(0,n.jsx)("input",{id:"email",name:"email",type:"email",ref:l?l({required:!0,pattern:f.HN}):function(){return null},required:!0,className:"dark:bg-transparent dark:text-white dark:placeholder:text-gray-400 dark:focus:border-white dark:border-gray-300 appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring focus:ring-blue-400 focus:border-blue-300 transition duration-150 ease-in-out sm:text-sm sm:leading-5"})})]}),(0,n.jsx)("div",{className:"mt-6",children:(0,n.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:(0,n.jsx)(v.Z,{text:"Continue",loading:i})})}),(0,n.jsx)("div",{className:"text-xs mt-3 text-right",children:(0,n.jsx)("a",{target:"_blank",href:"https://docs.google.com/forms/d/e/1FAIpQLSewaOZmyWnYN-hG9sQ8s-HiW73tP7xGj60pj9YRk1E5yTX00w/viewform",className:"font-medium text-gray-500 dark:text-gray-300 underline",children:"\uc774\uba54\uc77c \uacc4\uc815 \ucc3e\uae30 \u2192"})})]})]})}),(0,n.jsxs)("div",{className:"md:hidden mt-10 text-center text-gray-700 dark:text-gray-300",children:["Don't have an account?"," ",(0,n.jsx)(p.default,{href:"/join",children:(0,n.jsx)("a",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"Create One \u2192"})})]}),(0,n.jsx)(g.Z,{})]})]})})]})};function k(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function N(e,r,t,n,a,i,o){try{var l=e[i](o),s=l.value}catch(u){return void t(u)}l.done?r(s):Promise.resolve(s).then(n,a)}function S(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i=[],o=!0,l=!1;try{for(t=t.call(e);!(o=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==t.return||t.return()}finally{if(l)throw a}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return k(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(){var e,r,t=(e=["\n  mutation initiateLogin($email: String!) {\n    initiateLogin(email: $email) {\n      ok\n    }\n  }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return A=function(){return t},t}var C=(0,l.Ps)(A()),E=function(){var e,r,a=(0,c.useRouter)(),l=(0,u.useState)(!1),m=l[0],f=l[1],h=(0,o.cI)({defaultValues:{email:null===a||void 0===a||null===(e=a.query)||void 0===e||null===(r=e.e)||void 0===r?void 0:r.toString()}}),x=h.register,v=h.handleSubmit,g=h.errors,p=h.setError,y=h.watch,b=S((0,s.D)(C),2),w=b[0],k=b[1],A=k.data,E=k.loading,_=k.error;(0,u.useEffect)((function(){var e;(null===A||void 0===A||null===(e=A.initiateLogin)||void 0===e?void 0:e.ok)&&((0,d.setCookie)(null,"login","initiated",{domain:".nomadcoders.co",path:"/"}),f(!0),window.scrollTo(0,0))}),[A]);var O=function(){var e,r=(e=i().mark((function e(r){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.email,a=t(40224).hC,e.next=4,a.get("c");case 4:if(null===e.sent){e.next=7;break}return e.abrupt("return");case 7:n&&w({variables:{email:n}});case 8:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(n,a){var i=e.apply(r,t);function o(e){N(i,n,a,o,l,"next",e)}function l(e){N(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}();(0,u.useEffect)((function(){_&&_.graphQLErrors.forEach((function(e){return p("mutation",{message:e.message})}))}),[_]);var L=y("email");return(0,n.jsx)(j,{loading:E,onSubmit:v(O),errors:g,ok:m,register:x,email:L})},_=function(){return(0,n.jsx)(E,{})}}},function(e){e.O(0,[7112,8523,9019,2814,2283,1346,2651,9774,2888,179],(function(){return r=87237,e(e.s=r);var r}));var r=e.O();_N_E=r}]);